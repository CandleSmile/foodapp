(function(){"use strict";var e={7971:function(e,t,a){a.d(t,{v:function(){return r}});const r=Object.freeze({CATEGORY:"cat",SEARCH:"search",INGREDIENTS:"INGREDIENTS"})},9454:function(e,t,a){var r=a(9242),s=a(7139),o=a(4311);const i="https://foodapi.somee.com/api";let l=o.Z.create();l.defaults.withCredentials=!0,l.defaults.baseURL=i;const n={OK:0,ObjectNotFound:1,ObjectAlreadyExists:2,NoValidData:3,NotValidRefreshToken:4,UnexpectedError:5,ServerError:500,TokenWasRefreshed:6,ErrorOnRefreshToken:7,LoginExpired:8},d=async(e,t)=>await u(e,"POST",null,t),c=async(e,t)=>await u(e,"GET",t,null),u=async(e,t,a,r)=>{let s={status:null,data:null,error:null};try{let s=await l({url:e,method:t,params:a,data:r,withCredentials:!0,baseURL:i});return{status:n.OK,data:s.data,error:null}}catch(o){if(o.response)if(401===o.response.status&&o.response.data){if(o.response.data.errorCode==n.TokenWasRefreshed)return await u(e,t,a,r);s.error=new Error(o.response.data?.message)}else 400==o.response.status||404==o.response.status?s.error=new Error(o.response.data?.message):s.error=new Error(o.response.data.title??o.response.data);else o.request?s.error=new Error(o.request):s.error=new Error(o.message)}return s};var m={getCategoriesUrl:"categories/getCategories",getMealsUrl:"meals/getMeals",getLatestMealsUrl:"meals/GetMealsByCount",getFoodByIdUrl:"meals/getMeal",getIngredientsUrl:"ingredients/getIngredients",loginUrl:"auth/login",logOutUrl:"auth/logout",registerUrl:"auth/register",changePassword:"auth/changePassword",checkLogin:"auth/checkLogin",makeOrderUrl:"shop/makeOrder",getOrderUrl:"shop/getOrders",getDeliveryDatesUrl:"shop/GetDeliveryDates",getDeliveryTimeSlots:"shop/GetDeliveryTimeSlots"},p=a(7971);const g={food:{get:{foodByFilters:async e=>{const t=e[p.v.CATEGORY],a=e[p.v.SEARCH],r=e[p.v.INGREDIENTS],{data:s,status:o,error:i}=await d(m.getMealsUrl,{searchString:a,categoryId:""==t?null:t,ingredientIds:""!=r?r.split(","):[]});return{meals:s,error:i,status:o}},latestMeals:async()=>{let{status:e,data:t,error:a}=await c(m.getLatestMealsUrl,{count:10,skip:0});return{status:e,meals:t,error:a}},foodById:async e=>await c(m.getFoodByIdUrl,{id:e})}},categories:{get:{listCategories:async()=>{const{status:e,data:t,error:a}=await c(m.getCategoriesUrl);return{status:e,categories:t,error:a}}}},ingredients:{get:{ingredients:async()=>{const{status:e,data:t,error:a}=await c(m.getIngredientsUrl);return{status:e,data:t,error:a}}}},shop:{post:{buy:async(e,t,a)=>{const r={cartItems:e.map((e=>({mealId:e.id,quantity:e.quantity,price:e.price,title:e.title}))),deliveryDate:t,deliveryTimeId:a},{status:s,data:o,error:i}=await d(m.makeOrderUrl,r);return{status:s,data:o,error:i}}},get:{orders:async()=>{const{status:e,data:t,error:a}=await c(m.getOrderUrl);return{status:e,data:t,error:a}},deliveryDates:async()=>{const{status:e,data:t,error:a}=await c(m.getDeliveryDatesUrl,{fromDate:new Date});return{status:e,data:t,error:a}},deliveryTimeSlots:async e=>{const{status:t,data:a,error:r}=await c(m.getDeliveryTimeSlots,{date:e});return{status:t,data:a,error:r}}}},auth:{login:async(e,t)=>{const{status:a,data:r,error:s}=await d(m.loginUrl,{username:e,password:t});return{status:a,data:r,error:s}},logOut:async()=>{try{const{status:e,error:t}=await d(m.logOutUrl);return{status:e,error:t}}catch(e){return{status:n.UnexpectedError,error:new Error("Something went wrong")}}},register:async(e,t,a)=>{const{status:r,data:s,error:o}=await d(m.registerUrl,{username:e,password:t,passwordConfirmation:a});return{status:r,data:s,error:o}},checkLogin:async e=>{const{status:t,data:a,error:r}=await u(m.checkLogin,"POST",{userName:e});return{status:t,data:a,error:r}},changePassword:async(e,t)=>{const{status:a,data:r,error:s}=await d(m.changePassword,{password:e,passwordConfirmation:t});return{status:a,data:r,error:s}}},loadDb:{load:async e=>{const{status:t,data:a,error:r}=await d("DbLoad/LoadDb",e);return{status:t,data:a,error:r}}}},_="Meals",y="FoodData",f="error",v="loading",h="getLatestMeals",w="getFilteringMeals",b="getFoodById",k="updateMealQuantityInList",C="updateFoodDataQuantityOnPage";var S=a(7598);const D=(e,t)=>e.map((e=>{const a=t.find((t=>t.id==e.id));return{...e,quantity:a?a.quantity:0}})),T={meals:[],error:null,loading:!1,foodData:null},A={[_]:({meals:e})=>e,[y]:({foodData:e})=>e??[],[f]:({error:e})=>e,[v]:({loading:e})=>e},I={async[h]({commit:e,rootGetters:t}){e("setLoading",!0);try{const a=t[`cart/${S.uX}`],r=await g.food.get.latestMeals();r.meals=D(r.meals,a),e("setMeals",r.meals),e("setError",r.error)}catch(a){e("setError",a)}finally{e("setLoading",!1)}},async[w]({commit:e,rootGetters:t},a){e("setLoading",!0);try{const r=t[`cart/${S.uX}`],s=await g.food.get.foodByFilters(a);s.meals=D(s.meals,r),e("setMeals",s.meals),e("setError",s.error)}catch(r){e("setError",r)}finally{e("setLoading",!1)}},async[b]({commit:e,rootGetters:t},a){e("setLoading",!0);try{const r=t[`cart/${S.uX}`],s=await g.food.get.foodById(a),o=s.data,i=r.find((e=>e.id==o.id));o.quantity=i?i.quantity:0,e("setFood",o),e("setError",s.error)}catch(r){e("setError",r)}finally{e("setLoading",!1)}},[k]({commit:e},{id:t,value:a}){e("setQuantityOfMeal",{id:t,value:a})},[C]({commit:e},t){e("setQuantityOfFood",t)}},U={setMeals(e,t){e.meals=t},setError(e,t){e.error=t?.message},setLoading(e,t){e.loading=t},setFood(e,t){e.foodData=t},setQuantityOfMeal(e,{id:t,value:a}){let r=e.meals.find((e=>e.id==t));r.quantity=a},setQuantityOfFood(e,t){e.foodData.quantity=t}};var O={namespaced:!0,state:T,getters:A,actions:I,mutations:U};const E="categories",L="getCategories",F={categories:[],error:"",loading:!1},P={[E]:({categories:e})=>e,[f]:({error:e})=>e,[v]:({loading:e})=>e},V={async[L]({commit:e}){e("setLoading",!0);try{const t=await g.categories.get.listCategories();e("setCategories",t.categories),e("setError",t.error)}catch(t){e("setError",t)}finally{e("setLoading",!1)}}},q={setCategories(e,t){e.categories=t},setError(e,t){e.error=t?.message},setLoading(e,t){e.loading=t}};var x={namespaced:!0,state:F,getters:P,actions:V,mutations:q},Y=(a(7658),a(7080)),R=a(4321);const N={selectedFilters:{ingredients:[],category:"",searchString:""},ingredients:[],categories:[],existingFiltersTags:[]},G={[Y.kR]:({ingredients:e})=>e.length>0?e.map((e=>({id:e.id.toString(),label:e.name}))):["can't load ingredients"],[Y.tC]:({categories:e})=>e.length>0?e.map((e=>({id:e.id.toString(),label:e.name}))):["can't load categories"],[Y._v]:({existingFiltersTags:e})=>e,[Y.xC]:({selectedFilters:{category:e}})=>e,[Y.OC]:({selectedFilters:{ingredients:e}})=>e,[Y.WN]:({selectedFilters:{searchString:e}})=>e},j={[R.pK]({commit:e},t){e("setSelectedCategory",t??"")},[R.ji]({commit:e},t){e("setSelectedIngredients",t??[])},[R.c5]({commit:e},t){e("setSearchString",t)},[R.kh]({commit:e},t){const a=""!=t[[p.v.INGREDIENTS]]?t[[p.v.INGREDIENTS]].split(","):[];let r=t[[p.v.CATEGORY]];e("setSelectedIngredients",a),e("setSelectedCategory",r),e("setSearchString",t[[p.v.SEARCH]])},[R.YU]({commit:e,state:t},a){const r=[];for(let s in a)if(s===p.v.INGREDIENTS&&""!=a[s]){const e=a[s].split(",");e.forEach((e=>{const a=t.ingredients.find((t=>t.id==Number(e)));r.push({type:p.v.INGREDIENTS,val:{id:a.id,name:a.name}})}))}else if(s===p.v.CATEGORY&&""!=a[s]){const e=a[s],o=t.categories.find((t=>t.id==Number(e)));r.push({type:p.v.CATEGORY,val:{id:o.id,name:o.name}})}else""!=a[s]&&r.push({type:s,val:{id:a[s],name:a[s]}});e("setFilterTags",r)},async[R.VO]({commit:e}){try{const t=await g.ingredients.get.ingredients();t.status==n.OK&&t.data?.length>0?e("setIngredients",t.data):e("setIngredients",[])}catch(t){e("setIngredients",[])}},async[R.f3]({commit:e}){try{const t=await g.categories.get.listCategories();t.status==n.OK&&t.categories?.length>0?e("setCategories",t.categories):t.status!=n.OK&&e("setCategories",[])}catch(t){e("setCategories",[])}}},H={setSelectedCategory(e,t){e.selectedFilters.category=t},setSelectedIngredients(e,t){e.selectedFilters.ingredients=t??[]},setSearchString(e,t){e.selectedFilters.searchString=t},setIngredients(e,t){e.ingredients=t},setCategories(e,t){e.categories=t},setFilterTags(e,t){e.existingFiltersTags=t}};var M={namespaced:!0,state:N,getters:G,actions:j,mutations:H},W=a(7818),z=a(3541);const K=localStorage.getItem("user"),$=K?{status:{loggedIn:!0},user:K,popupInfo:"",error:"",loading:!1}:{status:{loggedIn:!1},user:"",popupInfo:"",error:"",loading:!1},Q={[W.Fw]:({status:{loggedIn:e}})=>e,[W.xR]:({user:e})=>e,[f]:({error:e})=>e,[v]:({loading:e})=>e,[W.L0]:({popupInfo:e})=>e},B={async[z.hY]({commit:e},{user:t,password:a}){e("setError",""),e("setLoading",!0);try{const r=await g.auth.login(t,a);r.status==n.OK?(localStorage.setItem("user",t),e("setUser",t),e("setLoggedIn",!0)):e("setError",r.status!=n.ServerError?r.error?.message:"Something went wrong. Please try one more time or connect with us.")}catch(r){e("setError",r.message)}finally{e("setLoading",!1)}},async[z.o7]({commit:e}){const t=await g.auth.logOut();t.status==n.OK&&(localStorage.removeItem("user"),e("setUser",""),e("setLoggedIn",!1))},async[z.Ar]({commit:e,dispatch:t},{user:a,password:r,passwordConfirmation:s}){e("setError",""),e("setLoading",!0);try{const o=await g.auth.register(a,r,s);o.status==n.OK?await t(z.hY,{user:a,password:r}):e("setError",o.error?.message)}catch(o){e("setError",o.message)}finally{e("setLoading",!1)}},[z.uD]({commit:e}){e("setError","")},async[z.Pq]({commit:e,state:t}){if(""!=t.user){const a=await g.auth.checkLogin(t.user);a.status==n.OK&&0==a.data&&(localStorage.removeItem("user"),e("setUser",""),e("setLoggedIn",!1),e("setPopup","Please, login again. Your token was expired."))}},async[z.AG]({commit:e}){e("setPopup","")},async[z.KG]({commit:e},{password:t,passwordConfirmation:a}){e("setError",""),e("setLoading",!0);try{const r=await g.auth.changePassword(t,a);r.status==n.OK?(e("setPopup","Your password has been changed"),document.forms["change-password"].reset()):e("setError",r.error?.message)}catch(r){e("setError",r.message)}finally{e("setLoading",!1)}}},Z={setUser(e,t){e.user=t},setError(e,t){e.error=t},setLoading(e,t){e.loading=t},setLoggedIn(e,t){e.status.loggedIn=t},setPopup(e,t){e.popupInfo=t}};var X={namespaced:!0,state:$,getters:Q,actions:B,mutations:Z};const J=(e,t)=>{const a=Math.pow(10,t),r=Math.round(e*a)/a;return r},ee="addToCartAction",te="deleteFromCartAction",ae="buyAction",re="clearCheckOutAction",se="getAvailableDatesAction",oe="getDeliveryDateAndAvailableTimeSlotsAction",ie="updateSelectedTimeAction",le=null!=localStorage.getItem("mealItems")?JSON.parse(localStorage.getItem("mealItems")):[],ne={items:le,checkoutStatus:null,loading:!1,delivery:{deliveryAvailableDateOptions:[],deliveryAvailableTimeOptions:[],deliveryDate:"",deliveryTime:""}},de={[S.uX]:({items:e})=>e,[S.pp]:(e,t)=>t[[S.uX]].reduce(((e,t)=>J(e+t.price*t.quantity,2)),0),[S.EK]:(e,t)=>t[[S.uX]].reduce(((e,t)=>e+t.quantity),0),[v]:({loading:e})=>e,[S.SR]:({checkoutStatus:e})=>e,[S.AH]:({delivery:{deliveryAvailableDateOptions:e}})=>e,[S.QY]:({delivery:{deliveryAvailableTimeOptions:e}})=>e,[S.SY]:({delivery:{deliveryDate:e}})=>e,[S.X6]:({delivery:{deliveryTime:e}})=>e},ce={[ee]({commit:e,getters:t},a){const r=t[[S.uX]].find((e=>e.id===a.id));r?a.quantity>0?e("changeMealQuantity",{itemInCart:r,quantity:a.quantity}):e("deleteMealFromCart",r):a.quantity>0&&e("addMealToCart",a),localStorage.setItem("mealItems",JSON.stringify(t[[S.uX]]))},[te]({commit:e},t){e("setCheckoutStatus",null),e("deleteMealFromCart",t)},async[ae]({commit:e,state:t}){e("setLoading",!0),e("setCheckoutStatus",null);try{const a=await g.shop.post.buy(t.items,t.delivery.deliveryDate,t.delivery.deliveryTime);a.status==n.OK?(e("setCheckoutStatus","Congratulations! Your purchase was done"),e("setCartItems",[]),e("setDeliveryDate",""),e("setDeliveryTime",""),e("setAvailableTimeSlots",[]),localStorage.setItem("mealItems",JSON.stringify([]))):e("setCheckoutStatus","There was an error: "+a.error)}catch(a){e("setCheckoutStatus","There was an error: "+a.message)}finally{e("setLoading",!1)}},[re]({commit:e}){e("setCheckoutStatus",null)},async[se]({commit:e}){const t=await g.shop.get.deliveryDates();t.status==n.OK&&e("setAvailableDateOptions",t.data?.map((e=>e.deliveryDate)))},async[oe]({commit:e},t){e("setDeliveryDate",t),null==t&&e("setAvailableTimeSlots",[]);const a=await g.shop.get.deliveryTimeSlots(t);a.status==n.OK&&e("setAvailableTimeSlots",a.data),e("setDeliveryTime","")},[ie]({commit:e},t){e("setDeliveryTime",t)}},ue={setCheckoutStatus(e,t){e.checkoutStatus=t},addMealToCart(e,t){e.items.push({id:t.id,title:t.name,price:t.price,quantity:t.quantity})},changeMealQuantity(e,{itemInCart:t,quantity:a}){t.quantity=a},deleteMealFromCart(e,t){e.items=e.items.filter((e=>e.id!=t.id))},setCartItems(e,t){e.items=t},setLoading(e,t){e.loading=t},setAvailableDateOptions(e,t){e.delivery.deliveryAvailableDateOptions=t},setAvailableTimeSlots(e,t){e.delivery.deliveryAvailableTimeOptions=t},setDeliveryDate(e,t){e.delivery.deliveryDate=t},setDeliveryTime(e,t){e.delivery.deliveryTime=t}};var me={namespaced:!0,state:ne,getters:de,actions:ce,mutations:ue};const pe="Orders",ge="getOrdersOfTheUser",_e={orders:[],error:"",loading:!1},ye=e=>{const t=new Intl.DateTimeFormat("en-US");return t.format(e)},fe={[pe]:({orders:e})=>e?.map((e=>{let t={...e};return t.dateCreated=ye(new Date(t.dateCreated)),{id:t.id,dateCreated:t.dateCreated,totalPrice:t.totalPrice,orderItems:t.orderItems}})),[f]:({error:e})=>e,[v]:({loading:e})=>e},ve={async[ge]({commit:e}){e("setLoading",!0);try{const t=await g.shop.get.orders();e("setOrders",t.data),e("setError",t.error)}catch(t){e("setError",t)}finally{e("setLoading",!1)}}},he={setOrders(e,t){e.orders=t},setError(e,t){e.error=t?.message??""},setLoading(e,t){e.loading=t}};var we={namespaced:!0,state:_e,getters:fe,actions:ve,mutations:he};const be=!1,ke=(0,s.MT)({modules:{meals:O,categories:x,filters:M,auth:X,cart:me,orders:we},strict:be,plugins:be?[(0,s.hu)()]:[]});var Ce=ke,Se=a(3396);function De(e,t){const a=(0,Se.up)("router-view");return(0,Se.wg)(),(0,Se.j4)(a)}var Te=a(89);const Ae={},Ie=(0,Te.Z)(Ae,[["render",De]]);var Ue=Ie,Oe=a(2268);const Ee={key:1,class:"categories-item__no-category-data"},Le=(0,Se._)("p",null,"Categories were not found",-1),Fe=[Le],Pe={key:2,class:"categories-item__error"},Ve={key:4,class:"list-food__no-meals-data"},qe=(0,Se._)("p",null,"Meals were not found",-1),xe=[qe],Ye={key:5,class:"list-food__error"};function Re(e,t,a,r,s,o){const i=(0,Se.up)("AppLoader"),l=(0,Se.up)("ListCategories"),n=(0,Se.up)("ListFood");return r.loadingCat||r.loading?((0,Se.wg)(),(0,Se.j4)(i,{key:0,"is-dark":!1})):((0,Se.wg)(),(0,Se.iD)(Se.HY,{key:1},[r.categoriesList&&r.categoriesList.length>0?((0,Se.wg)(),(0,Se.j4)(l,{key:0,"categories-list":r.categoriesList},null,8,["categories-list"])):r.categoriesList&&0==r.categoriesList.length?((0,Se.wg)(),(0,Se.iD)("div",Ee,Fe)):((0,Se.wg)(),(0,Se.iD)("div",Pe,[(0,Se._)("p",null,"There war an error "+(0,Oe.zw)(r.errorCat),1)])),r.mealsList&&r.mealsList.length>0?((0,Se.wg)(),(0,Se.j4)(n,{key:3,"title-list":"Latest Meals","meals-list":r.mealsList,onChangeQuantity:r.updateQuantity,onAddToCart:r.addToCart},null,8,["meals-list","onChangeQuantity","onAddToCart"])):r.mealsList&&0==r.mealsList.length?((0,Se.wg)(),(0,Se.iD)("div",Ve,xe)):((0,Se.wg)(),(0,Se.iD)("div",Ye,[(0,Se._)("p",null,"There war an error "+(0,Oe.zw)(r.errorMeal),1)]))],64))}const Ne={class:"list-food"},Ge={class:"list-food__title"},je={key:0,class:"list-food__meals"},He={class:"list-food__meals-item-link-img-wrapper"},Me=["src","alt"],We={class:"list-food__meals-item-link-name"},ze={class:"list-food__meals-item-link-category"},Ke=(0,Se._)("span",{class:"list-food__meals-item-link-category-title"},"Category: ",-1),$e={class:"list-food__meals-item-link-area"},Qe=(0,Se._)("span",{class:"list-food__meals-item-link-category-title"},"Area: ",-1),Be={class:"list-food__meals-item-link-price"},Ze={class:"list-food__meals-item-to-cart"};function Xe(e,t,a,s,o,i){const l=(0,Se.up)("router-link"),n=(0,Se.up)("AppQuantityBox"),d=(0,Se.up)("AddToCartButton");return(0,Se.wg)(),(0,Se.iD)("section",Ne,[(0,Se._)("h2",Ge,(0,Oe.zw)(a.titleList),1),s.meals&&s.meals.length>0?((0,Se.wg)(),(0,Se.iD)("ul",je,[((0,Se.wg)(!0),(0,Se.iD)(Se.HY,null,(0,Se.Ko)(s.meals,(t=>((0,Se.wg)(),(0,Se.iD)("li",{class:"list-food__meals-item",key:t.id},[(0,Se.Wm)(l,{to:{name:"food",params:{id:t.id}},class:"list-food__meals-item-link"},{default:(0,Se.w5)((()=>[(0,Se.wy)((0,Se._)("div",{class:"list-food__meals-item-link-tags"},(0,Oe.zw)(t.tagsString),513),[[r.F8,t.tags&&t.tags.length>0]]),(0,Se._)("div",He,[(0,Se._)("img",{class:"list-food__meals-item-link-img",src:t.image,alt:t.name},null,8,Me)]),(0,Se._)("div",We,(0,Oe.zw)(t.name),1),(0,Se.wy)((0,Se._)("div",ze,[Ke,(0,Se._)("span",null,(0,Oe.zw)(t.category.name),1)],512),[[r.F8,t.category&&""!=t.category.name]]),(0,Se.wy)((0,Se._)("div",$e,[Qe,(0,Se._)("span",null,(0,Oe.zw)(t.area.name),1)],512),[[r.F8,t.area&&""!=t.area.name]]),(0,Se._)("div",Be,"$"+(0,Oe.zw)(t.price),1)])),_:2},1032,["to"]),(0,Se._)("div",Ze,[(0,Se.Wm)(n,{modelValue:t.quantity,"onUpdate:modelValue":e=>s.updateQuant(t.id,e)},null,8,["modelValue","onUpdate:modelValue"]),(0,Se.Wm)(d,{onAddToCart:a=>e.$emit("addToCart",t),class:"list-food__meals-item-to-cart-button"},null,8,["onAddToCart"])])])))),128))])):(0,Se.kq)("",!0)])}const Je={class:"app-quantity-box"},et=["value"];var tt={__name:"AppQuantityBox",props:["modelValue"],emits:["update:modelValue"],setup(e,{emit:t}){const a=e,r=e=>{const t=e.which?e.which:e.keyCode;if(t>=48&&t<=57)return!0;e.preventDefault()},s=()=>{a.modelValue>0&&t("update:modelValue",a.modelValue-1)},o=()=>{t("update:modelValue",a.modelValue+1)};return(t,a)=>((0,Se.wg)(),(0,Se.iD)("div",Je,[(0,Se._)("button",{onClick:s,class:"app-quantity-box__btn-minus"},"-"),(0,Se._)("input",{class:"app-quantity-box__quantity",type:"text",value:e.modelValue,onKeypress:a[0]||(a[0]=e=>r(e)),onInput:a[1]||(a[1]=e=>t.$emit("update:modelValue",Number(e.target.value)))},null,40,et),(0,Se._)("button",{onClick:o,class:"app-quantity-box__btn-plus"},"+")]))}};const at=(0,Te.Z)(tt,[["__scopeId","data-v-ba21f46e"]]);var rt=at,st=a(3251);const ot=(0,Se._)("i",{class:"add-to-cart-btn__icon"},null,-1);var it={__name:"AddToCartButton",props:["existInCart"],emits:["addToCart"],setup(e){return(t,a)=>((0,Se.wg)(),(0,Se.j4)(st.Z,{class:(0,Oe.C_)(["add-to-cart-btn",{"add-to-cart-btn--in-cart":e.existInCart}]),onClick:a[0]||(a[0]=e=>t.$emit("addToCart"))},{default:(0,Se.w5)((()=>[ot])),_:1},8,["class"]))}};const lt=it;var nt=lt,dt={name:"ListFood",props:{titleList:String,mealsList:Array},emits:["changeQuantity","addToCart"],components:{AppQuantityBox:rt,AddToCartButton:nt},setup(e,t){const a=(e,a)=>{t.emit("changeQuantity",{id:e,value:a})},r=(0,Se.Fl)((()=>ct(e.mealsList)));return{updateQuant:a,meals:r}}};const ct=e=>e?.map((e=>({...e,tagsString:e.tags.reduce(((e,t)=>e+(""!=e?", ":"")+t.name),"")}))),ut=(0,Te.Z)(dt,[["render",Xe]]);var mt=ut;const pt={class:"list-categories"},gt=(0,Se._)("h2",{class:"list-categories__title"},"Categories",-1),_t={key:0,class:"list-categories__categories"},yt={class:"list-categories__categories-item-img-wrapper"},ft=["src","alt"],vt={class:"list-categories__categories-item-name"};function ht(e,t,a,r,s,o){const i=(0,Se.up)("router-link");return(0,Se.wg)(),(0,Se.iD)("section",pt,[gt,a.categoriesList&&a.categoriesList.length>0?((0,Se.wg)(),(0,Se.iD)("ul",_t,[((0,Se.wg)(!0),(0,Se.iD)(Se.HY,null,(0,Se.Ko)(a.categoriesList,(e=>((0,Se.wg)(),(0,Se.iD)("li",{class:"list-categories__categories-item",key:e.name},[(0,Se.Wm)(i,{class:"list-categories__categories-item-link",to:{name:"meal",query:{[r.categoryFilter]:e.id}}},{default:(0,Se.w5)((()=>[(0,Se._)("div",yt,[(0,Se._)("img",{class:"list-categories__categories-item-img",src:e.image,alt:e.name},null,8,ft)]),(0,Se._)("div",vt,(0,Oe.zw)(e.name),1)])),_:2},1032,["to"])])))),128))])):(0,Se.kq)("",!0)])}var wt={name:"list-categories",props:["categoriesList"],setup(){const e=p.v.CATEGORY;return{categoryFilter:e}}};const bt=(0,Te.Z)(wt,[["render",ht]]);var kt=bt;const Ct=(0,Se._)("div",{class:"add-loader__lds-roller"},[(0,Se._)("div",{class:"add-loader__lds-roller-item"}),(0,Se._)("div",{class:"add-loader__lds-roller-item"}),(0,Se._)("div",{class:"add-loader__lds-roller-item"}),(0,Se._)("div",{class:"add-loader__lds-roller-item"}),(0,Se._)("div",{class:"add-loader__lds-roller-item"}),(0,Se._)("div",{class:"add-loader__lds-roller-item"}),(0,Se._)("div",{class:"add-loader__lds-roller-item"}),(0,Se._)("div",{class:"add-loader__lds-roller-item"})],-1);var St={__name:"AppLoader",props:{isDark:Boolean},setup(e){return(t,a)=>((0,Se.wg)(),(0,Se.j4)(Se.lR,{to:"body"},[(0,Se._)("div",{class:(0,Oe.C_)(["add-loader",{"add-loader--dark":e.isDark}])},[Ct,(0,Se.WI)(t.$slots,"default")],2)]))}};const Dt=St;var Tt=Dt,At=a(1947);const{useGetters:It,useActions:Ut}=(0,At._p)("categories"),{useGetters:Ot,useActions:Et}=(0,At._p)("meals"),{useActions:Lt}=(0,At._p)("cart");var Ft={name:"HomePage",components:{ListFood:mt,ListCategories:kt,AppLoader:Tt},setup(){const{[E]:e,[f]:t,[v]:a}=It([E,f,v]),{[_]:r,[f]:s,[v]:o}=Ot([_,f,v]),{[L]:i}=Ut([L]),{[h]:l,[k]:n}=Et([h,k]),{[ee]:d}=Lt([ee]);return(0,Se.bv)((()=>{i(),l()})),{loading:o,loadingCat:a,categoriesList:e,errorCat:t,mealsList:r,errorMeal:s,updateQuantity:n,addToCart:d}}};const Pt=(0,Te.Z)(Ft,[["render",Re]]);var Vt=Pt;const qt=e=>((0,Se.dD)("data-v-6ded2218"),e=e(),(0,Se.Cn)(),e),xt={key:1,class:"food"},Yt={class:"food__picture"},Rt=["src","alt"],Nt={class:"food__info"},Gt={class:"food__info-name"},jt={class:"food__info-category"},Ht=qt((()=>(0,Se._)("span",null,"Category: ",-1))),Mt={class:"food__info-instructions"},Wt={class:"food__info-ingredients"},zt=qt((()=>(0,Se._)("p",{class:"food__info-ingredients-title"},"Ingredients:",-1))),Kt={class:"food__info-ingredients-list"},$t={class:"food__info-item-to-cart"};function Qt(e,t,a,r,s,o){const i=(0,Se.up)("AppLoader"),l=(0,Se.up)("RouterLink"),n=(0,Se.up)("AppQuantityBox"),d=(0,Se.up)("AddToCartButton");return r.loading?((0,Se.wg)(),(0,Se.j4)(i,{key:0})):((0,Se.wg)(),(0,Se.iD)("article",xt,[(0,Se._)("div",Yt,[(0,Se._)("img",{class:"food__picture-image",src:r.foodData.image,alt:r.foodData.name},null,8,Rt)]),(0,Se._)("div",Nt,[(0,Se._)("h1",Gt,(0,Oe.zw)(r.foodData.name),1),(0,Se._)("div",jt,[Ht,(0,Se.Wm)(l,{class:"food__info-category-link",to:{name:"meal",query:{[r.categoryFilter]:r.foodData.category?.id}}},{default:(0,Se.w5)((()=>[(0,Se.Uk)((0,Oe.zw)(r.foodData.category?.name),1)])),_:1},8,["to"])]),(0,Se._)("div",Mt,(0,Oe.zw)(r.foodData.description),1),(0,Se._)("div",Wt,[zt,(0,Se._)("ul",Kt,[((0,Se.wg)(!0),(0,Se.iD)(Se.HY,null,(0,Se.Ko)(r.ingredientsList,(e=>((0,Se.wg)(),(0,Se.iD)("li",{key:e.id},[(0,Se.Wm)(l,{class:"food__info-ingredients-list-link",to:{name:"meal",query:{[r.ingredientFilter]:e.id}}},{default:(0,Se.w5)((()=>[(0,Se.Uk)((0,Oe.zw)(e.name),1)])),_:2},1032,["to"])])))),128))])]),(0,Se._)("div",$t,[(0,Se.Wm)(n,{class:"food__info-item-to-cart-quantity",modelValue:r.foodData.quantity,"onUpdate:modelValue":t[0]||(t[0]=e=>r.updateQuantity(e))},null,8,["modelValue"]),(0,Se.Wm)(d,{class:"food__info-item-to-cart-button",onAddToCart:t[1]||(t[1]=e=>r.addToCart(r.foodData))})])])]))}var Bt=a(2483);const{useGetters:Zt,useActions:Xt}=(0,At._p)("meals"),{useActions:Jt}=(0,At._p)("cart");var ea={name:"FoodPage",components:{AppLoader:Tt,AddToCartButton:nt,AppQuantityBox:rt},setup(){const e=(0,Bt.yj)(),{[y]:t,[v]:a}=Zt([y,v]),{[ee]:r}=Jt([ee]),{[b]:s,[C]:o}=Xt([b,C]),i=p.v.CATEGORY,l=p.v.INGREDIENTS,n=(0,Se.Fl)((()=>{if(!t.value)return[];const e=t.value;return e.ingredients??[]}));return(0,Se.bv)((()=>{s(e.params.id)})),{foodData:t,ingredientsList:n,categoryFilter:i,ingredientFilter:l,loading:a,addToCart:r,updateQuantity:o}}};const ta=(0,Te.Z)(ea,[["render",Qt],["__scopeId","data-v-6ded2218"]]);var aa=ta;const ra={key:1,class:"list-food__no-meals-data"},sa=(0,Se._)("p",null,"Meals were not found",-1),oa=[sa],ia={key:2,class:"list-food__error"};function la(e,t,a,r,s,o){const i=(0,Se.up)("FilterTags"),l=(0,Se.up)("FilterPanel"),n=(0,Se.up)("AppLoader"),d=(0,Se.up)("ListFood");return(0,Se.wg)(),(0,Se.iD)(Se.HY,null,[(0,Se.Wm)(i,{onDeleteTag:r.deleteFromFilters,"filter-tags":r.filterTags},null,8,["onDeleteTag","filter-tags"]),(0,Se.Wm)(l,{"ingredients-options":r.ingredientsOptions,"checked-ingredients":r.checkedIngredients,"cat-options":r.catOptions,category:r.category,onFilter:r.onFilter,onUpdateCategory:r.updateSelectedCat,onUpdateIngredients:r.updateSelectedIngredients},null,8,["ingredients-options","checked-ingredients","cat-options","category","onFilter","onUpdateCategory","onUpdateIngredients"]),r.loading?((0,Se.wg)(),(0,Se.j4)(n,{key:0,"is-dark":!1})):((0,Se.wg)(),(0,Se.iD)(Se.HY,{key:1},[r.mealsList&&r.mealsList.length>0?((0,Se.wg)(),(0,Se.j4)(d,{key:0,"meals-list":r.mealsList,"title-list":"Meals",onChangeQuantity:r.updateQuantity,onAddToCart:r.addToCart},null,8,["meals-list","onChangeQuantity","onAddToCart"])):r.mealsList&&0==r.mealsList.length?((0,Se.wg)(),(0,Se.iD)("div",ra,oa)):((0,Se.wg)(),(0,Se.iD)("div",ia,[(0,Se._)("p",null,"There war an error "+(0,Oe.zw)(r.error),1)]))],64))],64)}var na=a(4870);const da={key:0,class:"filter-tags-panel"},ca={class:"filter-tags-panel__list"},ua=["onClick"];var ma={__name:"FilterTags",props:["filterTags"],emits:["deleteTag"],setup(e){const t=e,a=(0,Se.Fl)((()=>t.filterTags?.map((e=>({...e,className:r(e.type)}))))),r=e=>{let t="";switch(e){case p.v.CATEGORY:t="filter-tags-panel__list-item--category-theme";break;case p.v.SEARCH:t="filter-tags-panel__list-item--search-theme";break;default:t="filter-tags-panel__list-item--ingredients-theme"}return t};return(e,t)=>(0,na.SU)(a)&&(0,na.SU)(a).length>0?((0,Se.wg)(),(0,Se.iD)("section",da,[(0,Se._)("ul",ca,[((0,Se.wg)(!0),(0,Se.iD)(Se.HY,null,(0,Se.Ko)((0,na.SU)(a),(t=>((0,Se.wg)(),(0,Se.iD)("li",{class:(0,Oe.C_)([t.className,"filter-tags-panel__list-item"]),key:t.val.id},[(0,Se.Uk)((0,Oe.zw)(t.val.name)+" ",1),(0,Se._)("span",{class:"filter-tags-panel__list-item-remove-filter",onClick:a=>e.$emit("deleteTag",t)},null,8,ua)],2)))),128))])])):(0,Se.kq)("",!0)}};const pa=ma;var ga=pa;const _a={class:"filter-panel"},ya={class:"filter-panel__toggle-button-wrapper"},fa={key:0,class:"filter-panel__box"},va={class:"filter-panel__button-wrapper"},ha=(0,Se._)("span",{class:"filter-panel__fix-span"}," ",-1);function wa(e,t,a,s,o,i){const l=(0,Se.up)("AppButton"),n=(0,Se.up)("AppSelect");return(0,Se.wg)(),(0,Se.iD)("section",_a,[(0,Se._)("div",ya,[(0,Se.Wm)(l,{class:"app-button--theme-light app-button--filter-icon filter-panel__app-button",onClick:s.onToggleFilterPanelClass},{default:(0,Se.w5)((()=>[(0,Se.Uk)((0,Oe.zw)(s.showFilterPanel?"Hide filters":"Open filters"),1)])),_:1},8,["onClick"])]),(0,Se.Wm)(r.uT,{name:"fade"},{default:(0,Se.w5)((()=>[s.showFilterPanel?((0,Se.wg)(),(0,Se.iD)("div",fa,[(0,Se.Wm)(n,{options:a.catOptions,modelValue:a.category,filterable:!0,placeholder:"Select category",multiple:!1,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("updateCategory",t)),title:"Category",id:"catFilter"},null,8,["options","modelValue"]),(0,Se.Wm)(n,{options:a.ingredientsOptions,modelValue:a.checkedIngredients,filterable:!0,placeholder:"Select ingredients",multiple:!0,title:"Ingredients","onUpdate:modelValue":t[1]||(t[1]=t=>e.$emit("updateIngredients",t)),id:"ingFilter"},null,8,["options","modelValue"]),(0,Se._)("div",va,[ha,(0,Se.Wm)(l,{class:"app-button--theme-dark",onClick:s.onFilter},{default:(0,Se.w5)((()=>[(0,Se.Uk)("Filter ")])),_:1},8,["onClick"])])])):(0,Se.kq)("",!0)])),_:1})])}var ba=a(3636);const ka={class:"app-select"},Ca={class:"app-select__title"};var Sa={__name:"AppSelect",props:{title:String,options:Array,modelValue:[String,Number,Object],filterable:Boolean,placeholder:String,multiple:Boolean,id:String,label:String,errors:Array},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,s=(0,Se.Fl)({get(){return a.modelValue},set(e){t("update:modelValue",e)}});return(t,a)=>((0,Se.wg)(),(0,Se.iD)("div",ka,[(0,Se._)("label",Ca,(0,Oe.zw)(e.title),1),(0,Se.Wm)((0,na.SU)(ba.Z),{options:e.options,modelValue:(0,na.SU)(s),"onUpdate:modelValue":a[0]||(a[0]=e=>(0,na.dq)(s)?s.value=e:null),filterable:e.filterable,placeholder:e.placeholder,clearable:!0,multiple:e.multiple,"close-on-select":!0,class:"app-select__custom-select",reduce:e=>e.id,label:e.label},null,8,["options","modelValue","filterable","placeholder","multiple","reduce","label"]),((0,Se.wg)(!0),(0,Se.iD)(Se.HY,null,(0,Se.Ko)(e.errors,(t=>(0,Se.wy)(((0,Se.wg)(),(0,Se.iD)("div",{class:"app-select__error",key:t.$uid},(0,Oe.zw)(t.$message),1)),[[r.F8,t&&e.errors.length>0]]))),128))]))}};const Da=Sa;var Ta=Da,Aa={name:"FilterPanel",components:{AppButton:st.Z,AppSelect:Ta},props:{ingredientsOptions:Array,catOptions:Array,checkedIngredients:Array,category:String},emits:["filter","updateCategory","updateIngredients"],setup(e,{emit:t}){let a=(0,na.iH)(!1),r="filter-panel-box--active";const s=()=>{a.value=!a.value},o=()=>{t("filter",e.category,e.checkedIngredients)};return{showFilterPanel:a,activeClass:r,onToggleFilterPanelClass:s,onFilter:o}}};const Ia=(0,Te.Z)(Aa,[["render",wa]]);var Ua=Ia;const Oa=e=>{let t={[p.v.CATEGORY]:"",[p.v.SEARCH]:"",[p.v.INGREDIENTS]:""};for(let a in e)Object.values(p.v).includes(a)&&(t[a]=e[a]);return t},{useGetters:Ea,useActions:La}=(0,At._p)("meals"),{useActions:Fa,useGetters:Pa}=(0,At._p)("filters"),{useActions:Va}=(0,At._p)("cart");var qa={name:"MealsPage",components:{ListFood:mt,FilterTags:ga,FilterPanel:Ua,AppLoader:Tt},setup(){const e=(0,Bt.tv)(),t=(0,Bt.yj)();let a=Oa(t.query);const{[_]:r,[f]:s,[v]:o}=Ea([_,f,v]),{[w]:i,[k]:l}=La([w,k]),{[Y._v]:n,[Y.kR]:d,[Y.tC]:c,[Y.xC]:u,[Y.OC]:m}=Pa([Y._v,Y.kR,Y.tC,Y.xC,Y.OC]),{[R.kh]:g,[R.YU]:y,[R.VO]:h,[R.f3]:b,[R.pK]:C,[R.ji]:S}=Fa([R.kh,R.YU,R.VO,R.f3,R.pK,R.ji]),{[ee]:D}=Va([ee]),T=(a,r)=>{let s=Object.assign({},t.query);a&&""!=a?s[[p.v.CATEGORY]]=a:delete s[[p.v.CATEGORY]],""!=r?s[[p.v.INGREDIENTS]]=r.join(","):delete s[[p.v.INGREDIENTS]],e.push({name:"meal",query:s})},A=a=>{let r=Object.assign({},t.query);if(a.type===p.v.INGREDIENTS){let e=r[[a.type]]?r[[a.type]].split(","):[];e=e.filter((e=>e!=a.val.id)),e.length>0?r[[a.type]]=e.join(","):delete r[[a.type]]}else delete r[[a.type]];e.push({name:"meal",query:r})};return(0,Se.YP)((()=>t.query),(e=>{"meal"==t.name&&(a=Oa(e),g(a),y(a),i(a))})),(0,Se.bv)((async()=>{i(a),await h(a),await b(a),g(a),y(a)})),{loading:o,mealsList:r,error:s,filterTags:n,onFilter:T,deleteFromFilters:A,ingredientsOptions:d,catOptions:c,category:u,checkedIngredients:m,updateSelectedCat:C,updateSelectedIngredients:S,updateQuantity:l,addToCart:D}}};const xa=(0,Te.Z)(qa,[["render",la]]);var Ya=xa,Ra=a(9024);const Na={class:"app-datepicker"},Ga={class:"app-datepicker__title"};var ja={__name:"AppDatePicker",props:{title:String,availableDates:Array,showAvailableDates:Boolean,modelValue:[Date,String],placeholder:String,enableTimePicker:Boolean,errors:Array},emits:["handleDate"],setup(e,{emit:t}){const a=e=>{t("handleDate",e)};return(t,s)=>((0,Se.wg)(),(0,Se.iD)("div",Na,[(0,Se._)("label",Ga,(0,Oe.zw)(e.title),1),e.showAvailableDates?((0,Se.wg)(),(0,Se.j4)((0,na.SU)(Ra.Z),{key:0,"allowed-dates":e.availableDates,"auto-apply":"","close-on-auto-apply":!0,"enable-time-picker":e.enableTimePicker,modelValue:e.modelValue,"onUpdate:modelValue":a,class:"app-datepicker__date",placeholder:e.placeholder},null,8,["allowed-dates","enable-time-picker","modelValue","placeholder"])):((0,Se.wg)(),(0,Se.j4)((0,na.SU)(Ra.Z),{key:1,"auto-apply":"","close-on-auto-apply":!0,"enable-time-picker":e.enableTimePicker,modelValue:e.modelValue,"onUpdate:modelValue":a,class:"app-datepicker__date"},null,8,["enable-time-picker","modelValue"])),((0,Se.wg)(!0),(0,Se.iD)(Se.HY,null,(0,Se.Ko)(e.errors,(t=>(0,Se.wy)(((0,Se.wg)(),(0,Se.iD)("div",{class:"app-datepicker__error",key:t.$uid},(0,Oe.zw)(t.$message),1)),[[r.F8,t&&e.errors.length>0]]))),128))]))}};const Ha=ja;var Ma=Ha,Wa=a(3053),za=a(9117);const Ka={key:0,class:"cart"},$a=(0,Se._)("h1",{class:"cart-title"},"Your Cart Items",-1),Qa={class:"cart-list"},Ba=(0,Se.uE)('<li class="cart-list__item cart-list__item--title"><div class="cart-list__item-col cart-list__item-col--first cart-list__item-col--45"> Meal </div><div class="cart-list__item-col cart-list__item-col--25">Quantity</div><div class="cart-list__item-col cart-list__item-col--25"> Price/unit </div><div class="cart-list__item-col cart-list__item-col--5"> </div></li>',1),Za={class:"cart-list__item-col cart-list__item-col--first cart-list__item-col--45"},Xa={class:"cart-list__item-col cart-list__item-col--25"},Ja={class:"cart-list__item-col cart-list__item-col--25"},er={class:"cart-list__item-col cart-list__item-col--5"},tr=["onClick"],ar={class:"cart-list__item cart-list__item--total"},rr=(0,Se._)("div",{class:"cart-list__item-col cart-list__item-col--first cart-list__item-col--45"}," Totals: ",-1),sr={class:"cart-list__item-col cart-list__item-col--25"},or={class:"cart-list__item-col cart-list__item-col--25"},ir=(0,Se._)("div",{class:"cart-list__item-col cart-list__item-col--5"}," ",-1),lr={class:"cart__delivery"},nr=(0,Se._)("h3",{class:"cart__delivery-title"}," Choose your date and time slot for delivery: ",-1),dr={class:"cart-buttons"},cr={key:1,class:"cart-empty"},ur=(0,Se._)("h1",{class:"cart-empty-title"},"Your cart is empty now.",-1),mr={key:2,class:""};var pr={__name:"CartPage",setup(e){const t=(0,Bt.tv)(),{useGetters:a,useActions:r}=(0,At._p)("cart"),{[S.EK]:s,[S.pp]:o,[S.uX]:i,[v]:l,[S.SR]:n,[S.AH]:d,[S.QY]:c,[S.SY]:u,[S.X6]:m}=a([S.EK,S.pp,S.uX,v,S.SR,S.AH,S.QY,S.SY,S.X6]),{[te]:p,[ae]:g,[re]:_,[se]:y,[oe]:f,[ie]:h}=r([te,ae,re,se,oe,ie]),w={deliveryDate:{required:za.C1},deliveryTime:{required:za.C1}},b=(0,Wa.Xw)(w,{deliveryDate:u,deliveryTime:m}),k=()=>{t.push({name:"meal"})},C=e=>{f(e)},D=async()=>{const e=await b.value.$validate();e&&await g()};return(0,Se.bv)((()=>{y(),_()})),(e,t)=>((0,Se.wg)(),(0,Se.iD)(Se.HY,null,[(0,na.SU)(i).length>0||(0,na.SU)(l)?((0,Se.wg)(),(0,Se.iD)("article",Ka,[$a,(0,Se._)("ul",Qa,[Ba,((0,Se.wg)(!0),(0,Se.iD)(Se.HY,null,(0,Se.Ko)((0,na.SU)(i),(e=>((0,Se.wg)(),(0,Se.iD)("li",{class:"cart-list__item",key:e.id},[(0,Se._)("div",Za,(0,Oe.zw)(e.title),1),(0,Se._)("div",Xa,(0,Oe.zw)(e.quantity),1),(0,Se._)("div",Ja,(0,Oe.zw)(e.price),1),(0,Se._)("div",er,[(0,Se._)("span",{onClick:t=>(0,na.SU)(p)(e),class:"cart-list__item-col-remove-from-cart"},null,8,tr)])])))),128)),(0,Se._)("li",ar,[rr,(0,Se._)("div",sr,(0,Oe.zw)((0,na.SU)(s)),1),(0,Se._)("div",or,(0,Oe.zw)((0,na.SU)(o)),1),ir])]),(0,Se._)("div",lr,[nr,(0,Se.Wm)(Ma,{"available-dates":(0,na.SU)(d),"show-available-dates":!0,"enable-time-picker":!1,modelValue:(0,na.SU)(u),onHandleDate:C,placeholder:"Select delivery date",errors:(0,na.SU)(b).deliveryDate.$errors,class:"cart__delivery-date"},null,8,["available-dates","modelValue","errors"]),(0,Se.Wm)(Ta,{options:(0,na.SU)(c),modelValue:(0,na.SU)(m),"onUpdate:modelValue":t[0]||(t[0]=e=>(0,na.SU)(h)(e)),placeholder:"Select time slot",multiple:!1,id:"time",errors:(0,na.SU)(b).deliveryTime.$errors,class:"cart__delivery-time",label:"time"},null,8,["options","modelValue","errors"])]),(0,Se._)("div",dr,[(0,Se.Wm)(st.Z,{class:"cart-buttons-purchase app-button--theme-light",onClick:k,disabled:(0,na.SU)(l)},{default:(0,Se.w5)((()=>[(0,Se.Uk)("Continue purchase")])),_:1},8,["disabled"]),(0,Se.Wm)(st.Z,{class:"cart-buttons-buy app-button--theme-dark",onClick:D,disabled:(0,na.SU)(l)},{default:(0,Se.w5)((()=>[(0,Se.Uk)("Buy")])),_:1},8,["disabled"])]),(0,na.SU)(l)?((0,Se.wg)(),(0,Se.j4)(Tt,{key:0,"is-dark":!0})):(0,Se.kq)("",!0)])):((0,Se.wg)(),(0,Se.iD)("article",cr,[ur,(0,Se.Wm)(st.Z,{onClick:k,class:"cart-empty-start-button app-button--theme-dark"},{default:(0,Se.w5)((()=>[(0,Se.Uk)("Start purchase")])),_:1})])),null!=(0,na.SU)(n)?((0,Se.wg)(),(0,Se.iD)("article",mr,[(0,Se._)("p",null,(0,Oe.zw)((0,na.SU)(n)),1)])):(0,Se.kq)("",!0)],64))}};const gr=pr;var _r=gr;function yr(e,t){return(0,Se.wg)(),(0,Se.iD)("h1",null,"Oops, it looks like the page you're looking for doesn't exist.")}const fr={},vr=(0,Te.Z)(fr,[["render",yr]]);var hr=vr;const wr=["placeholder","type","value"];var br={__name:"AppTextField",props:["placeholder","modelValue","errors","isPassword"],emits:["update:modelValue"],setup(e){const t=e,a=t.isPassword?"password":"text";return(t,r)=>((0,Se.wg)(),(0,Se.iD)(Se.HY,null,[(0,Se._)("input",(0,Se.dG)({class:["app-text-field__input",{"app-text-field-input--error":e.errors.length}],placeholder:e.placeholder,type:(0,na.SU)(a),value:e.modelValue},t.$attrs,{onInput:r[0]||(r[0]=e=>t.$emit("update:modelValue",e.target.value)),autocomplete:"on"}),null,16,wr),((0,Se.wg)(!0),(0,Se.iD)(Se.HY,null,(0,Se.Ko)(e.errors,(e=>((0,Se.wg)(),(0,Se.iD)("div",{class:"app-text-field__error",key:e.$uid},(0,Oe.zw)(e.$message),1)))),128))],64))}};const kr=br;var Cr=kr;const Sr={class:"login"},Dr=(0,Se._)("h2",{class:"login-title"},"Please input your email to log in",-1),Tr=["onSubmit"],Ar={key:0,class:"login-form__error"};var Ir={__name:"LoginPage",setup(e){const{useGetters:t,useActions:a}=(0,At._p)("auth"),s=(0,Bt.tv)(),o=(0,Bt.yj)(),i=(0,na.iH)(""),l=(0,na.iH)(""),{[z.hY]:n,[z.uD]:d}=a([z.hY,z.uD]),{[W.Fw]:c,[f]:u,[v]:m}=t([W.Fw,f,v]),p={user:{required:za.C1,email:za.Do},password:{required:za.C1,minLength:(0,za.Ei)(6),maxLength:(0,za.BS)(255)}},g=(0,Wa.Xw)(p,{user:i,password:l}),_=async()=>{const e=await g.value.$validate();e&&(await n({user:i.value,password:l.value}),c.value&&s.push(o.query.redirect??"/"))};return(0,Se.bv)((()=>{c.value&&s.push("/"),d()})),(e,t)=>((0,Se.wg)(),(0,Se.iD)("article",Sr,[(0,na.SU)(m)?((0,Se.wg)(),(0,Se.j4)(Tt,{key:0,"is-dark":!0})):(0,Se.kq)("",!0),Dr,(0,Se._)("form",{class:"login-form",onSubmit:(0,r.iM)(_,["prevent"])},[(0,Se.Wm)(Cr,{placeholder:"Enter your email",modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),errors:(0,na.SU)(g).user.$errors,class:"login-form__email"},null,8,["modelValue","errors"]),(0,Se.Wm)(Cr,{placeholder:"Enter your password",modelValue:l.value,"onUpdate:modelValue":t[1]||(t[1]=e=>l.value=e),errors:(0,na.SU)(g).password.$errors,"is-password":!0,class:"login-form__password"},null,8,["modelValue","errors"]),null!=(0,na.SU)(u)?((0,Se.wg)(),(0,Se.iD)("div",Ar,(0,Oe.zw)((0,na.SU)(u)),1)):(0,Se.kq)("",!0),(0,Se.Wm)(st.Z,{class:"login-form__button app-button--theme-dark"},{default:(0,Se.w5)((()=>[(0,Se.Uk)("Login")])),_:1})],40,Tr)]))}};const Ur=Ir;var Or=Ur;const Er={class:"user-order-history"},Lr={key:0,class:"user-order-history__order-list"},Fr={class:"user-order-history__order-list-item-num"},Pr={class:"user-order-history__order-list-item-num-label"},Vr={class:"user-order-history__order-list-item-date"},qr=(0,Se._)("label",{class:"user-order-history__order-list-item-date-label"},"Date: ",-1),xr={class:"user-order-history__order-list-item-price"},Yr=(0,Se._)("label",{class:"user-order-history__order-list-item-price-label"},"Total Price: ",-1),Rr={class:"user-order-history__order-list-item-meals-table"},Nr=(0,Se._)("div",{class:"user-order-history__order-list-item-meals-table-td user-order-history__order-list-item-meals-table-td--header"}," Title ",-1),Gr=(0,Se._)("div",{class:"user-order-history__order-list-item-meals-table-td user-order-history__order-list-item-meals-table-td--header user-order-history__order-list-item-meals-table-td--right"}," Price ",-1),jr=(0,Se._)("div",{class:"user-order-history__order-list-item-meals-table-td user-order-history__order-list-item-meals-table-td--header user-order-history__order-list-item-meals-table-td--right"}," Quantity ",-1),Hr={class:"user-order-history__order-list-item-meals-table-td"},Mr={class:"user-order-history__order-list-item-meals-table-td user-order-history__order-list-item-meals-table-td--right"},Wr={class:"user-order-history__order-list-item-meals-table-td user-order-history__order-list-item-meals-table-td--right"},zr={key:1},Kr=(0,Se._)("p",null,"You haven't orders yet.",-1),$r=[Kr];var Qr={__name:"OrderHistory",props:{orders:Array},setup(e){return(t,a)=>((0,Se.wg)(),(0,Se.iD)("article",Er,[e.orders&&e.orders.length>0?((0,Se.wg)(),(0,Se.iD)("ul",Lr,[((0,Se.wg)(!0),(0,Se.iD)(Se.HY,null,(0,Se.Ko)(e.orders,(e=>((0,Se.wg)(),(0,Se.iD)("li",{key:e.id,class:"user-order-history__order-list-item"},[(0,Se._)("div",Fr,[(0,Se._)("label",Pr,"Order # "+(0,Oe.zw)(e.id),1)]),(0,Se._)("div",Vr,[qr,(0,Se.Uk)((0,Oe.zw)(e.dateCreated),1)]),(0,Se._)("div",xr,[Yr,(0,Se.Uk)((0,Oe.zw)(e.totalPrice),1)]),(0,Se._)("div",Rr,[Nr,Gr,jr,((0,Se.wg)(!0),(0,Se.iD)(Se.HY,null,(0,Se.Ko)(e.orderItems,(e=>((0,Se.wg)(),(0,Se.iD)(Se.HY,{key:e.id},[(0,Se._)("div",Hr,(0,Oe.zw)(e.title),1),(0,Se._)("div",Mr,(0,Oe.zw)(e.price),1),(0,Se._)("div",Wr,(0,Oe.zw)(e.quantity),1)],64)))),128))])])))),128))])):((0,Se.wg)(),(0,Se.iD)("div",zr,$r))]))}};const Br=Qr;var Zr=Br;const Xr={class:"change-password"},Jr=["onSubmit"];var es={__name:"ChangePassword",emits:["changePassword"],setup(e,{emit:t}){const a=(0,na.iH)(""),s=(0,na.iH)(""),o={password:{required:za.C1,minLength:(0,za.Ei)(6)},confirmPassword:{required:za.C1,sameAsPassword:(0,za.sH)(a)}},i=(0,Wa.Xw)(o,{password:a,confirmPassword:s}),l=async()=>{const e=await i.value.$validate();e&&await t("changePassword",{password:a.value,passwordConfirmation:s.value})};return(e,t)=>((0,Se.wg)(),(0,Se.iD)("article",Xr,[(0,Se._)("form",{class:"change-password__form",name:"change-password",onSubmit:(0,r.iM)(l,["prevent"])},[(0,Se.Wm)(Cr,{placeholder:"Enter your password",modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e),errors:(0,na.SU)(i).password.$errors,"is-password":!0,class:"change-password__form-password"},null,8,["modelValue","errors"]),(0,Se.Wm)(Cr,{placeholder:"Confirm your password",modelValue:s.value,"onUpdate:modelValue":t[1]||(t[1]=e=>s.value=e),errors:(0,na.SU)(i).confirmPassword.$errors,"is-password":!0,class:"change-password__form-confirm-password"},null,8,["modelValue","errors"]),(0,Se.Wm)(st.Z,{class:"change-password__form-button app-button--theme-dark"},{default:(0,Se.w5)((()=>[(0,Se.Uk)("Change password")])),_:1})],40,Jr)]))}};const ts=es;var as=ts,rs={__name:"AppTab",setup(e){const t=(0,na.iH)(0),a=(0,na.iH)(!1),s=(0,Se.f3)("TabsProvider");return(0,Se.YP)((()=>s.selectedIndex),(()=>{a.value=t.value===s.selectedIndex})),(0,Se.wF)((()=>{t.value=s.count,s.count++,a.value=t.value===s.selectedIndex})),(e,t)=>(0,Se.wy)(((0,Se.wg)(),(0,Se.iD)("div",null,[(0,Se.WI)(e.$slots,"default")],512)),[[r.F8,a.value]])}};const ss=rs;var os=ss;const is={class:"tabs"},ls={class:"tabs__header"},ns=["onClick"];var ds={__name:"AppTabs",setup(e){const t=(0,Se.Rr)(),a=(0,na.qj)({selectedIndex:0,tabs:[],count:0});(0,Se.JJ)("TabsProvider",a);const r=e=>{a.selectedIndex=e};return(0,Se.wF)((()=>{t.default&&(a.tabs=t.default().filter((e=>"AppTab"===e.type.__name)))})),(0,Se.bv)((()=>{r(0)})),(e,t)=>((0,Se.wg)(),(0,Se.iD)("div",is,[(0,Se._)("ul",ls,[((0,Se.wg)(!0),(0,Se.iD)(Se.HY,null,(0,Se.Ko)(a.tabs,((e,t)=>((0,Se.wg)(),(0,Se.iD)("li",{key:e.props.title,onClick:e=>r(t),class:(0,Oe.C_)(["tabs__header-item",{"tabs__header-item--selected":t==a.selectedIndex}])},(0,Oe.zw)(e.props.title),11,ns)))),128))]),(0,Se.WI)(e.$slots,"default")]))}};const cs=ds;var us=cs;const ms={key:2},ps={class:"user-order-history__error"};var gs={__name:"ProfilePage",setup(e){const{useGetters:t,useActions:a}=(0,At._p)("orders"),{useActions:r}=(0,At._p)("auth"),{[pe]:s,[f]:o,[v]:i}=t([pe,f,v]),{[ge]:l}=a([ge]),{[z.KG]:n}=r([z.KG]);return(0,Se.bv)((async()=>{await l()})),(e,t)=>((0,Se.wg)(),(0,Se.j4)(us,null,{default:(0,Se.w5)((()=>[(0,Se.Wm)(os,{title:"Order history"},{default:(0,Se.w5)((()=>[(0,na.SU)(i)?((0,Se.wg)(),(0,Se.j4)(Tt,{key:0,"is-dark":!1})):""==(0,na.SU)(o)?((0,Se.wg)(),(0,Se.j4)(Zr,{key:1,orders:(0,na.SU)(s)},null,8,["orders"])):((0,Se.wg)(),(0,Se.iD)("article",ms,[(0,Se._)("div",ps,[(0,Se._)("p",null,"There war an error "+(0,Oe.zw)((0,na.SU)(o)),1)])]))])),_:1}),(0,Se.Wm)(os,{title:"Change Password"},{default:(0,Se.w5)((()=>[(0,Se.Wm)(as,{onChangePassword:(0,na.SU)(n)},null,8,["onChangePassword"])])),_:1})])),_:1}))}};const _s=gs;var ys=_s;const fs={class:"login"},vs=(0,Se._)("h2",{class:"login-title"},"Please input your email to log in",-1),hs=["onSubmit"],ws={key:0,class:"login-form__error"};var bs={__name:"RegistrationPage",setup(e){const{useGetters:t,useActions:a}=(0,At._p)("auth"),s=(0,Bt.tv)(),o=(0,Bt.yj)(),i=(0,na.iH)(""),l=(0,na.iH)(""),n=(0,na.iH)(""),{[z.Ar]:d}=a([z.Ar]),{[W.Fw]:c,[v]:u,[f]:m}=t([W.Fw,v,f]),p={user:{required:za.C1,email:za.Do},password:{required:za.C1,minLength:(0,za.Ei)(6)},confirmPassword:{required:za.C1,sameAsPassword:(0,za.sH)(l)}},g=(0,Wa.Xw)(p,{user:i,password:l,confirmPassword:n}),_=async()=>{const e=await g.value.$validate();e&&(await d({user:i.value,password:l.value,passwordConfirmation:n.value}),c.value&&s.push(o.query.redirect??"/"))};return(0,Se.bv)((()=>{c.value&&s.push("/")})),(e,t)=>((0,Se.wg)(),(0,Se.iD)("article",fs,[(0,na.SU)(u)?((0,Se.wg)(),(0,Se.j4)(Tt,{key:0,"is-dark":!0})):(0,Se.kq)("",!0),vs,(0,Se._)("form",{class:"login-form",onSubmit:(0,r.iM)(_,["prevent"])},[(0,Se.Wm)(Cr,{placeholder:"Enter your email",modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),errors:(0,na.SU)(g).user.$errors,class:"login-form__email"},null,8,["modelValue","errors"]),(0,Se.Wm)(Cr,{placeholder:"Enter your password",modelValue:l.value,"onUpdate:modelValue":t[1]||(t[1]=e=>l.value=e),errors:(0,na.SU)(g).password.$errors,"is-password":!0,class:"login-form__password"},null,8,["modelValue","errors"]),(0,Se.Wm)(Cr,{placeholder:"Confirm your password",modelValue:n.value,"onUpdate:modelValue":t[2]||(t[2]=e=>n.value=e),errors:(0,na.SU)(g).confirmPassword.$errors,"is-password":!0,class:"login-form__confirmPassword"},null,8,["modelValue","errors"]),null!=(0,na.SU)(m)?((0,Se.wg)(),(0,Se.iD)("div",ws,(0,Oe.zw)((0,na.SU)(m)),1)):(0,Se.kq)("",!0),(0,Se.Wm)(st.Z,{class:"login-form__button app-button--theme-dark"},{default:(0,Se.w5)((()=>[(0,Se.Uk)("Register")])),_:1})],40,hs)]))}};const ks=bs;var Cs=ks;function Ss({to:e,next:t,store:a,router:r}){return a.state.auth.status.loggedIn?t():r.push({name:"login",query:{redirect:e.fullPath}})}async function Ds({to:e,next:t,store:a,router:r}){return a.state.auth.status.loggedIn&&(await a.dispatch(`auth/${[z.Pq]}`),!a.state.auth.status.loggedIn)?r.push({name:"login",query:{redirect:e.fullPath}}):t()}function Ts(e,t,a){const r=t[a];return r?()=>{const s=Ts(e,t,a+1);r({...e,next:s})}:e.next}var As=Ts;const Is=[{path:"/",name:"layout",component:()=>a.e(881).then(a.bind(a,3881)),children:[{path:"/",component:Vt,name:"home",meta:{middleware:[Ds]}},{path:"/meals",component:Ya,name:"meal",meta:{middleware:[Ds]}},{path:"/foodPage/:id",component:aa,name:"food",meta:{middleware:[Ds]}},{path:"/cart",component:_r,name:"cart",meta:{middleware:[Ss,Ds]}},{path:"/profile",component:ys,name:"profile",meta:{middleware:[Ss,Ds]}},{path:"/login",component:Or,name:"login"},{path:"/register",component:Cs,name:"register"}]},{path:"/error",component:()=>a.e(733).then(a.bind(a,5733)),name:"error",children:[{path:"/404",component:hr,name:"404"}]},{path:"/:catchAll(.*)",redirect:"404"}],Us=(0,Bt.p7)({history:(0,Bt.PO)("/foodapp/"),routes:Is});Us.beforeEach(((e,t,a)=>{if(!e.meta.middleware)return a();const r=e.meta.middleware,s={to:e,from:t,next:a,store:Ce,router:Us};return r[0]({...s,next:As(s,r,1)})}));var Os=Us;(0,r.ri)(Ue).use(Ce).use(Os).mount("#app")},3541:function(e,t,a){a.d(t,{AG:function(){return n},Ar:function(){return i},KG:function(){return d},Pq:function(){return l},hY:function(){return r},o7:function(){return s},uD:function(){return o}});const r="DoLogin",s="DoLogout",o="CleanError",i="Registration",l="checkIfLogin",n="clearNotificationInfo",d="changePassword"},7818:function(e,t,a){a.d(t,{Fw:function(){return r},L0:function(){return o},xR:function(){return s}});const r="loggedIn",s="user",o="showNotification"},7598:function(e,t,a){a.d(t,{AH:function(){return l},EK:function(){return o},QY:function(){return n},SR:function(){return i},SY:function(){return d},X6:function(){return c},pp:function(){return s},uX:function(){return r}});const r="mealsInCart",s="total_Price",o="total_Cart",i="checkOutStatus",l="deliveryAvailableDateOptions",n="deliveryAvailableTimeOptions",d="deliveryDateGetter",c="deliveryTimeGetter"},4321:function(e,t,a){a.d(t,{VO:function(){return o},YU:function(){return s},c5:function(){return d},f3:function(){return i},ji:function(){return n},kh:function(){return r},pK:function(){return l}});const r="updateSelectedFilters",s="updateExistingFiltersTags",o="getIngredientsOptions",i="getCategoryOptions",l="updateSelectedCategory",n="updateSelectedIngredients",d="updateSearchString"},7080:function(e,t,a){a.d(t,{OC:function(){return i},WN:function(){return l},_v:function(){return n},kR:function(){return r},tC:function(){return s},xC:function(){return o}});const r="ingredientOptions",s="categoryOptions",o="selectedCategory",i="selectedIngredients",l="searchString",n="filtersTags"},3251:function(e,t,a){a.d(t,{Z:function(){return d}});var r=a(3396);const s=["disabled"];function o(e,t,a,o,i,l){return(0,r.wg)(),(0,r.iD)("button",{disabled:a.disabled,class:"app-button",onClick:t[0]||(t[0]=t=>e.$emit("click"))},[(0,r.WI)(e.$slots,"default")],8,s)}var i={emits:["click"],props:{title:String,disabled:Boolean},setup(){}},l=a(89);const n=(0,l.Z)(i,[["render",o]]);var d=n}},t={};function a(r){var s=t[r];if(void 0!==s)return s.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,r,s,o){if(!r){var i=1/0;for(c=0;c<e.length;c++){r=e[c][0],s=e[c][1],o=e[c][2];for(var l=!0,n=0;n<r.length;n++)(!1&o||i>=o)&&Object.keys(a.O).every((function(e){return a.O[e](r[n])}))?r.splice(n--,1):(l=!1,o<i&&(i=o));if(l){e.splice(c--,1);var d=s();void 0!==d&&(t=d)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[r,s,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,r){return a.f[r](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+e+"."+{733:"2c5a6f0e",881:"c3da6202"}[e]+".js"}}(),function(){a.miniCssF=function(e){return"css/"+e+".1f29ce17.css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="foodlistapp:";a.l=function(r,s,o,i){if(e[r])e[r].push(s);else{var l,n;if(void 0!==o)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+o){l=u;break}}l||(n=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,a.nc&&l.setAttribute("nonce",a.nc),l.setAttribute("data-webpack",t+o),l.src=r),e[r]=[s];var m=function(t,a){l.onerror=l.onload=null,clearTimeout(p);var s=e[r];if(delete e[r],l.parentNode&&l.parentNode.removeChild(l),s&&s.forEach((function(e){return e(a)})),t)return t(a)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=m.bind(null,l.onerror),l.onload=m.bind(null,l.onload),n&&document.head.appendChild(l)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/foodapp/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,a,r,s){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css";var i=function(a){if(o.onerror=o.onload=null,"load"===a.type)r();else{var i=a&&("load"===a.type?"missing":a.type),l=a&&a.target&&a.target.href||t,n=new Error("Loading CSS chunk "+e+" failed.\n("+l+")");n.code="CSS_CHUNK_LOAD_FAILED",n.type=i,n.request=l,o.parentNode.removeChild(o),s(n)}};return o.onerror=o.onload=i,o.href=t,a?a.parentNode.insertBefore(o,a.nextSibling):document.head.appendChild(o),o},t=function(e,t){for(var a=document.getElementsByTagName("link"),r=0;r<a.length;r++){var s=a[r],o=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(o===e||o===t))return s}var i=document.getElementsByTagName("style");for(r=0;r<i.length;r++){s=i[r],o=s.getAttribute("data-href");if(o===e||o===t)return s}},r=function(r){return new Promise((function(s,o){var i=a.miniCssF(r),l=a.p+i;if(t(i,l))return s();e(r,l,null,s,o)}))},s={143:0};a.f.miniCss=function(e,t){var a={881:1};s[e]?t.push(s[e]):0!==s[e]&&a[e]&&t.push(s[e]=r(e).then((function(){s[e]=0}),(function(t){throw delete s[e],t})))}}}(),function(){var e={143:0};a.f.j=function(t,r){var s=a.o(e,t)?e[t]:void 0;if(0!==s)if(s)r.push(s[2]);else{var o=new Promise((function(a,r){s=e[t]=[a,r]}));r.push(s[2]=o);var i=a.p+a.u(t),l=new Error,n=function(r){if(a.o(e,t)&&(s=e[t],0!==s&&(e[t]=void 0),s)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;l.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",l.name="ChunkLoadError",l.type=o,l.request=i,s[1](l)}};a.l(i,n,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,r){var s,o,i=r[0],l=r[1],n=r[2],d=0;if(i.some((function(t){return 0!==e[t]}))){for(s in l)a.o(l,s)&&(a.m[s]=l[s]);if(n)var c=n(a)}for(t&&t(r);d<i.length;d++)o=i[d],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(c)},r=self["webpackChunkfoodlistapp"]=self["webpackChunkfoodlistapp"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(9454)}));r=a.O(r)})();
//# sourceMappingURL=app.ca53d65f.js.map